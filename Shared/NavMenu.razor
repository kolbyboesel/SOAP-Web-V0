@inject IHttpContextAccessor HttpContextAccessor
@inject IJSRuntime JSRuntime
@inject NavigationManager NavigationManager

<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/loginSignup.css" asp-append-version="true" />
    <link rel="stylesheet" href="/css/style.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>
<style>
  @@media screen and (max-width: 766px) {
    .mobileDivider {
        display: none!important;
    }
    }

  @@media screen and (max-width: 766px) {
    .mobileHeight {
        height:100px!important;
    }
    }

    .navBarContainer{
      height: 60px;
      width: 100vw;
      background-color: #4e54c8;
      position: initial;
      z-index: 0;
    }

</style>
<div class="site-mobile-menu site-navbar-target">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body" style="position: fixed;">
        <ul class="site-nav-wrap">
          <li><a href="/" class="nav-link active">Home</a></li>
              <li><a href="/LiveScores">Live Scores</a></li>
              <li><a href="/AllBetOdds">Betting Odds</a></li>
              <li class="has-children">
                <span class="arrow-collapse collapsed" data-toggle="collapse" data-target="#collapseItem0" aria-expanded="false"></span>
                <a>Sports</a>
                <ul class="dropdown">
                  <li><a href="/MLB">MLB</a></li>
                  <li><a href="/NFL">NFL</a></li>
                  <li><a href="/NBA">NBA</a></li>
                  <li><a href="/NHL">NHL</a></li>
                  </ul>
              </li>
              <li><a href="/Contact">Contact</a></li>
              @if (cookieValue == "true")
              {
              <li><a href="/Signout">Sign Out</a></li>
              <li><a href="/AccountHome">Account Hub</a></li>
              }
              else
              {
              <li><a href="/Signup">Sign Up</a></li>
              <li><a href="/Login">Log In</a></li>
              }
        </ul>
      </div>
    </div> <!-- .site-mobile-menu -->
    <!-- NAVBAR -->
    <div class="navBarContainer mobileHeight">
    <header class="site-navbar mt-3" style="position:fixed;z-index:1">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="site-logo col-6"><a href="/"><img src="/images/logo_transparent.png" style="height: 6vh"></a></div>

          <nav class="mx-auto site-navigation" style="width:auto!important">
            <ul class="site-menu js-clone-nav d-none d-xl-block ml-0 pl-0">
              <li><a href="/" class="nav-link active">Home</a></li>
              <li><a href="/LiveScores">Live Scores</a></li>
              <li><a href="/AllBetOdds">Betting Odds</a></li>
              <li class="has-children">
                <a>Sports</a>
                <ul class="dropdown">
                  <li><a href="/MLB">MLB</a></li>
                  <li><a href="/NFL">NFL</a></li>
                  <li><a href="/NBA">NBA</a></li>
                  <li><a href="/NHL">NHL</a></li>
                  </ul>
              </li>
              <li><a href="/Contact">Contact</a></li>
              @if (cookieValue == "true")
              {
              <li class="d-lg-none"><a href="/Signout">Sign Out</a></li>
              <li class="d-lg-none"><a href="/AccountHome">Account Hub</a></li>
              }
              else
              {
              <li class="d-lg-none"><a href="/Signup">Sign Up</a></li>
              <li class="d-lg-none"><a href="/Login">Log In</a></li>
              }
            </ul>
          </nav>
          
          <div class="right-cta-menu text-right d-flex aligin-items-center col-6">
            <div class="ml-auto" style="margin-left:auto!important">
              @if (cookieValue == "true")
              {
              <a href="/Signout" class="btn btn-primary border-width-2 d-none d-lg-inline-block"><span class="mr-2 icon-lock_outline"></span>Sign Out</a>
              <a href="/AccountHome" class="btn btn-primary border-width-2 d-none d-lg-inline-block"><span class="mr-2 icon-lock_outline"></span>Account Hub</a>
              }
              else
              {
              <a href="/Signup" class="btn btn-primary border-width-2 d-none d-lg-inline-block"><span class="mr-2 icon-lock_outline"></span>Sign Up</a>
              <a href="/Login" class="btn btn-primary border-width-2 d-none d-lg-inline-block"><span class="mr-2 icon-lock_outline"></span>Log In</a>
              }
            </div>
            <a href="#" class="site-menu-toggle js-menu-toggle d-inline-block d-xl-none mt-lg-2 ml-3"><span class="icon-menu h3 m-0 p-0 mt-2"></span></a>
          </div>

        </div>
      </div>
      <div class="mobileDivider" style="border-bottom:white; border-bottom-width: 1px; border-bottom-style:solid; height:30px; width:89%; margin-left:5.5%"></div>
    </header>
  </div>
@code {
  private void showLogin()
  {
    string currentUrl = NavigationManager.Uri;
    string pageName = "";
    string containerName = "";
    if(currentUrl.Contains("/"))
    {
      pageName = currentUrl.Substring(currentUrl.LastIndexOf("/"));
      if(pageName.StartsWith("LiveScores")){
        containerName = "LiveScoresLogin";

      }
      if(pageName.StartsWith("AllBetOdds")){
              containerName = "AllBetOddsLogin";

      }
      if(pageName.StartsWith("MLB")){
              containerName = "MLBLogin";

      }
      if(pageName.StartsWith("NBA")){
              containerName = "NBALogin";

      }
      if(pageName.StartsWith("NHL")){
              containerName = "NHLLogin";

      }
      if(pageName.StartsWith("NFL")){
              containerName = "NFLLogin";

      }
      containerName = "IndexLogin";

    }
    else
    {
      containerName = "IndexLogin";
    }
    JSRuntime.InvokeVoidAsync("showLogin", containerName);
  }
  string cookieValue = "";
  protected override async Task OnInitializedAsync()
    {
    cookieValue = HttpContextAccessor.HttpContext.Request.Cookies["loggedInStatus"];
  }
}